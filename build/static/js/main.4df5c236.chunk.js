(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{54:function(e,t,r){},55:function(e,t,r){},93:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(19),a=r.n(n),s=(r(54),r.p,r(55),r(56),r(57),r(17)),i=r(7),l=r(2),o=r(5),d=r.n(o),u=r(11),j=r(9),b=r.n(j),p=r(0);function O(){var e=Object(l.c)((function(e){return e.cartReducer})),t=Object(l.c)((function(e){return e.loginUserReducer})).currentUser,r=null===t||void 0===t?void 0:t.isAdmin,c=Object(l.b)();return Object(p.jsx)("div",{children:Object(p.jsxs)("nav",{className:"navbar navbar-expand-lg shadow-lg p-3 mb-5 bg-white rounded",children:[Object(p.jsx)("a",{className:"navbar-brand",href:"/",children:"Hot and Fresh Pizzas"}),Object(p.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(p.jsx)("span",{className:"navbar-toggler-icon",children:Object(p.jsx)("i",{style:{color:"black"},className:"fas fa-bars"})})}),Object(p.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(p.jsxs)("ul",{className:"navbar-nav ml-auto",children:[t?Object(p.jsxs)("div",{className:"dropdown mt-2",children:[Object(p.jsx)("a",{style:{color:"black"},className:"dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:t.name}),Object(p.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[r?Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{className:"dropdown-item",href:"/admin",children:"Dashboard"})}):null,Object(p.jsx)("a",{className:"dropdown-item",href:"/orders",children:"Orders"}),Object(p.jsx)("a",{className:"dropdown-item",href:"#",onClick:function(){c((function(e){localStorage.removeItem("currentUser"),window.location.href="/login"}))},children:Object(p.jsx)("li",{children:"Logout"})})]})]}):Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsxs)("a",{className:"nav-link",href:"/cart",children:["Cart ",e.cartItems.length]})})]})})]})})}var h=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_PIZZAS_REQUEST"}),e.prev=1,e.next=4,b.a.get("/api/pizzas/getallpizzas");case 4:r=e.sent,console.log(r),t({type:"GET_PIZZAS_SUCCESS",payload:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"GET_PIZZAS_FAILED",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(u.a)(d.a.mark((function t(r){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_PIZZABYID_REQUEST"}),t.prev=1,t.next=4,b.a.post("/api/pizzas/getpizzabyid",{pizzaid:e});case 4:c=t.sent,console.log(c),r({type:"GET_PIZZABYID_SUCCESS",payload:c.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:"GET_PIZZABYID_FAILED",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()};function x(e){var t=e.error;return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"alert alert-danger",role:"alert",children:t})})}var f=r(4);function g(){var e=Object(l.b)(),t=Object(c.useState)(""),r=Object(f.a)(t,2),n=r[0],a=r[1],s=Object(c.useState)("all"),i=Object(f.a)(s,2),o=i[0],j=i[1];return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row justify-content-center shadow-lg p-3 mb-5 bg-white rounded",children:[Object(p.jsx)("div",{className:"col-md-3 w-100",children:Object(p.jsx)("input",{onChange:function(e){a(e.target.value)},value:n,type:"text",className:"form-control w-100",placeholder:"search pizzas"})}),Object(p.jsx)("div",{className:"col-md-3 w-100",children:Object(p.jsxs)("select",{className:"form-control w-100 mt-2",value:o,onChange:function(e){return j(e.target.value)},children:[Object(p.jsx)("option",{value:"all",children:"All"}),Object(p.jsx)("option",{value:"veg",children:"Veg"}),Object(p.jsx)("option",{value:"nonveg",children:"Non Veg"})]})}),Object(p.jsx)("div",{className:"col-md-3 w-100",children:Object(p.jsx)("button",{className:"btn w-100 mt-2",onClick:function(){e(function(e,t){return function(){var r=Object(u.a)(d.a.mark((function r(c){var n,a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c({type:"GET_PIZZAS_REQUEST"}),r.prev=1,r.next=4,b.a.get("/api/pizzas/getallpizzas");case 4:a=r.sent,n=a.data.filter((function(t){return t.name.toLowerCase().includes(e)})),"all"!=t&&(n=a.data.filter((function(e){return e.category.toLowerCase()==t}))),c({type:"GET_PIZZAS_SUCCESS",payload:n}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),c({type:"GET_PIZZAS_FAILED",payload:r.t0});case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}(n,o))},children:"FILTER"})})]})})}function v(){return Object(p.jsx)("div",{className:"text-center",children:Object(p.jsx)("div",{className:"spinner-border",role:"status",style:{height:"100px",width:"100px",marginTop:"100px"},children:Object(p.jsx)("span",{className:"sr-only",children:"Loading..."})})})}var S=r(26),E=r(96),y=function(e,t,r){return function(c,n){var a={name:e.name,_id:e._id,image:e.image,varient:r,quantity:Number(t),prices:e.prices,price:e.prices[0][r]*t};a.quantity>10?alert("You cannot add more than 10 quantities"):c(a.quantity<1?{type:"DELETE_FROM_CART",payload:e}:{type:"ADD_TO_CART",payload:a});var s=n().cartReducer.cartItems;localStorage.setItem("cartItems",JSON.stringify(s))}},_=function(e){return function(t,r){t({type:"DELETE_FROM_CART",payload:e});var c=r().cartReducer.cartItems;localStorage.setItem("cartItems",JSON.stringify(c))}},R=r(21),w=r.n(R);r(32);function N(e){var t=e.pizza;w.a.init({});var r=Object(c.useState)(1),n=Object(f.a)(r,2),a=n[0],s=n[1],i=Object(c.useState)("small"),o=Object(f.a)(i,2),d=o[0],u=o[1],j=Object(c.useState)(!1),b=Object(f.a)(j,2),O=b[0],h=b[1],m=function(){return h(!1)},x=Object(l.b)();return Object(p.jsxs)("div",{"data-aos":"zoom-in",className:"shadow-lg p-3 mb-5 bg-white rounded",children:[Object(p.jsxs)("div",{onClick:function(){return h(!0)},children:[Object(p.jsx)("h1",{children:t.name}),Object(p.jsx)("img",{src:t.image,className:"img-fluid",style:{height:"200px",width:"200px"}})]}),Object(p.jsxs)("div",{className:"flex-container",children:[Object(p.jsxs)("div",{className:"w-100 m-1",children:[Object(p.jsx)("p",{children:"Varients"}),Object(p.jsx)("select",{className:"form-control",value:d,onChange:function(e){u(e.target.value)},children:t.varients.map((function(e){return Object(p.jsx)("option",{value:e,children:e})}))})]}),Object(p.jsxs)("div",{className:"w-100 m-1",children:[Object(p.jsx)("p",{children:"Quantity"}),Object(p.jsx)("select",{className:"form-control",value:a,onChange:function(e){s(e.target.value)},children:Object(S.a)(Array(10).keys()).map((function(e,t){return Object(p.jsx)("option",{value:t+1,children:t+1})}))})]})]}),Object(p.jsxs)("div",{className:"flex-container",children:[Object(p.jsx)("div",{className:"m-1 w-100",children:Object(p.jsxs)("h1",{className:"mt-1",children:["Price : ",t.prices[0][d]*a," Rs/-"]})}),Object(p.jsx)("div",{className:"m-1 w-100",children:Object(p.jsx)("button",{className:"btn",onClick:function(){x(y(t,a,d))},children:"ADD TO CART"})})]}),Object(p.jsxs)(E.a,{show:O,onHide:m,children:[Object(p.jsx)(E.a.Header,{closeButton:!0,children:Object(p.jsx)(E.a.Title,{children:t.name})}),Object(p.jsxs)(E.a.Body,{children:[Object(p.jsx)("img",{src:t.image,className:"img-fluid",style:{height:"400px"}}),Object(p.jsx)("p",{children:t.description})]}),Object(p.jsx)(E.a.Footer,{children:Object(p.jsx)("button",{className:"btn",onClick:m,children:"CLOSE"})})]})]},t._id)}function z(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.getAllPizzasReducer})),r=t.pizzas,n=t.error,a=t.loading;return Object(c.useEffect)((function(){e(h())}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)(g,{}),Object(p.jsx)("div",{className:"row justify-content-center",children:a?Object(p.jsx)(v,{}):n?Object(p.jsx)(x,{error:"Something went wrong"}):r.map((function(e){return Object(p.jsx)("div",{className:"col-md-3 m-3",children:Object(p.jsx)("div",{children:Object(p.jsx)(N,{pizza:e})})},e._id)}))})]})}var I=r(25),C=r(47),A=r.n(C);function U(e){var t=e.success;return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"alert alert-success",role:"alert",children:t})})}function T(e){var t=e.subtotal;console.log("on checkout screen");var r=Object(l.c)((function(e){return e.placeOrderReducer})),c=Object(l.c)((function(e){return e.loginUserReducer})).currentUser,n=r.loading,a=r.error,s=r.success,i=Object(l.b)();var o="pk_test_51Kme69SA3r96H0FngriQzr12ISr9Ej5UUSPbRt0kT4bghoYxIxsOBEORPSfkFN03TMqXM5kSGwy3UMp3i9UCnVQV00yHE1dm4g";return console.log(o),Object(p.jsxs)("div",{children:[n&&Object(p.jsx)(v,{}),a&&Object(p.jsx)(x,{error:"Something went wrong"}),s&&Object(p.jsx)(U,{success:"Your Order Placed Successfully"}),c?Object(p.jsx)(A.a,{amount:100*t,shippingAddress:!0,token:function(e){console.log(e),i(function(e,t){return function(){var r=Object(u.a)(d.a.mark((function r(c,n){var a,s,i;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c({type:"PLACE_ORDER_REQUEST"}),a=n().loginUserReducer.currentUser,s=n().cartReducer.cartItems,r.prev=3,r.next=6,b.a.post("/api/orders/placeorder",{token:e,subtotal:t,currentUser:a,cartItems:s});case 6:i=r.sent,c({type:"PLACE_ORDER_SUCCESS"}),console.log(i.message),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(3),c({type:"PLACE_ORDER_FAILED"}),console.log(r.t0.message);case 15:case"end":return r.stop()}}),r,null,[[3,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(e,t))},stripeKey:o,currency:"INR",children:Object(p.jsx)("button",{className:"btn",children:"Pay Now"})}):Object(p.jsx)("button",{className:"btn",children:"Login to Pay"})]})}function D(){w.a.init();var e=Object(c.useState)(!1),t=Object(f.a)(e,2),r=t[0],n=t[1],a=Object(l.c)((function(e){return e.cartReducer})).cartItems,s=a.reduce((function(e,t){return e+t.price}),0),o=Object(l.b)();return Object(l.c)((function(e){return e.placeOrderReducer})).success&&(localStorage.removeItem("cartItems"),a.map((function(e){o(_(e))})),setTimeout((function(){n(!0)}),2e3)),r?Object(p.jsx)(i.a,{to:"/orders"}):Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"row justify-content-center p-2","data-aos":"fade-down",children:[Object(p.jsxs)("div",{className:"col-md-6",children:[Object(p.jsx)("h2",{style:{fontSize:"40px"},children:"My Cart"}),a.map((function(e){return Object(p.jsxs)("div",{className:"flex-container",children:[Object(p.jsxs)("div",{className:"text-left m-1 w-100",children:[Object(p.jsxs)("h1",{children:[e.name," [",e.varient,"]"]}),Object(p.jsxs)("h1",{children:["Price : ",e.quantity," * ",e.prices[0][e.varient]," ="," ",e.price]}),Object(p.jsx)("h1",{style:{display:"inline"},children:"Quantity : "}),Object(p.jsx)("i",{className:"fa fa-plus","aria-hidden":"true",onClick:function(){o(y(e,e.quantity+1,e.varient))}}),Object(p.jsx)("b",{children:e.quantity}),Object(p.jsx)("i",{className:"fa fa-minus","aria-hidden":"true",onClick:function(){o(y(e,e.quantity-1,e.varient))}}),Object(p.jsx)("hr",{})]}),Object(p.jsx)("div",{className:"m-1 w-100",children:Object(p.jsx)("img",{src:e.image,style:Object(I.a)({height:"80px"},"height","80px")})}),Object(p.jsx)("div",{className:"m-1 w-100",children:Object(p.jsx)("i",{className:"fa fa-trash mt-5","aria-hidden":"true",onClick:function(){o(_(e))}})})]})}))]}),Object(p.jsxs)("div",{className:"col-md-4 text-right",children:[Object(p.jsxs)("h2",{style:{fontSize:"45px"},children:["SubTotal : ",s," /-"]}),Object(p.jsx)(T,{subtotal:s})]})]})})}function L(){var e=Object(c.useState)(""),t=Object(f.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(""),s=Object(f.a)(a,2),i=s[0],o=s[1],j=Object(c.useState)(""),O=Object(f.a)(j,2),h=O[0],m=O[1],g=Object(c.useState)(""),S=Object(f.a)(g,2),E=S[0],y=S[1],_=Object(l.c)((function(e){return e.registerUserReducer})),R=_.error,w=_.loading,N=_.success,z=Object(l.b)();return Object(p.jsx)("div",{className:"register",children:Object(p.jsx)("div",{className:"row justify-content-center mt-5",children:Object(p.jsxs)("div",{className:"col-md-5 mt-5 text-left shadow-lg p-3 mb-5 bg-white rounded",children:[w&&Object(p.jsx)(v,{}),N&&Object(p.jsx)(U,{success:"User Registered Successfully"}),R&&Object(p.jsx)(x,{error:"Email already registred"}),Object(p.jsx)("h2",{className:"text-center m-2",style:{fontSize:"35px"},children:"Register"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{required:!0,type:"text",placeholder:"name",className:"form-control",value:r,onChange:function(e){n(e.target.value)}}),Object(p.jsx)("input",{required:!0,type:"email",placeholder:"email",className:"form-control",value:i,onChange:function(e){o(e.target.value)}}),Object(p.jsx)("input",{type:"password",placeholder:"password",className:"form-control",value:h,required:!0,onChange:function(e){m(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"confirm password",className:"form-control",value:E,required:!0,onChange:function(e){y(e.target.value)}}),Object(p.jsx)("button",{onClick:function(){if(h!=E)alert("passwords not matched");else{var e={name:r,email:i,password:h};console.log(e),z(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(r){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"USER_REGISTER_REQUEST"}),t.prev=1,t.next=4,b.a.post("/api/users/register",e);case 4:c=t.sent,console.log(c),r({type:"USER_REGISTER_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:"USER_REGISTER_FAILED",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))}},className:"btn mt-3 mb-3",children:"REGISTER"}),Object(p.jsx)("br",{}),Object(p.jsx)("a",{style:{color:"black"},href:"/login",children:"Click Here To Login"})]})]})})})}function P(){var e=Object(c.useState)(""),t=Object(f.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(""),s=Object(f.a)(a,2),i=s[0],o=s[1],j=Object(l.c)((function(e){return e.loginUserReducer})),O=j.loading,h=j.error,m=Object(l.b)();return Object(c.useEffect)((function(){localStorage.getItem("currentUser")&&(window.location.href="/")}),[]),Object(p.jsx)("div",{className:"login",children:Object(p.jsx)("div",{className:"row justify-content-center mt-5",children:Object(p.jsxs)("div",{className:"col-md-5 mt-5 text-left shadow-lg p-3 mb-5 bg-white rounded",children:[Object(p.jsx)("h2",{className:"text-center m-2",style:{fontSize:"35px"},children:"Login"}),O&&Object(p.jsx)(v,{}),h&&Object(p.jsx)(x,{error:"Invalid Credentials"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{required:!0,type:"email",placeholder:"email",className:"form-control",value:r,onChange:function(e){n(e.target.value)}}),Object(p.jsx)("input",{type:"password",placeholder:"password",className:"form-control",value:i,required:!0,onChange:function(e){o(e.target.value)}}),Object(p.jsx)("button",{onClick:function(){m(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(r){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"USER_LOGIN_REQUEST"}),t.prev=1,t.next=4,b.a.post("/api/users/login",e);case 4:c=t.sent,console.log(c),r({type:"USER_LOGIN_SUCCESS",payload:c.data}),localStorage.setItem("currentUser",JSON.stringify(c.data)),window.location.href="/",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r({type:"USER_LOGIN_FAILED",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}({email:r,password:i}))},className:"btn mt-3 mb-3",children:"LOGIN"}),Object(p.jsx)("br",{}),Object(p.jsx)("a",{style:{color:"black"},href:"/register",className:"mt-2",children:"Click Here To Register"})]})]})})})}function k(){w.a.init();var e=Object(l.b)(),t=Object(l.c)((function(e){return e.getUserOrdersReducer})),r=t.orders,n=t.error,a=t.loading;return Object(c.useEffect)((function(){e(function(){var e=Object(u.a)(d.a.mark((function e(t,r){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r().loginUserReducer.currentUser,t({type:"GET_USER_ORDERS_REQUEST"}),e.prev=2,e.next=5,b.a.post("/api/orders/getuserorders",{userid:c._id});case 5:n=e.sent,console.log(n),t({type:"GET_USER_ORDERS_SUCCESS",payload:n.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:"GET_USER_ORDERS_FAILED",payload:e.t0});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}())}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{style:{fontSize:"35px"},children:"My Orders"}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"row justify-content-center",children:[a&&Object(p.jsx)(v,{}),n&&Object(p.jsx)(x,{error:"Something went wrong"}),r&&r.map((function(e){return Object(p.jsx)("div",{className:"col-md-8 m-2 p-1","data-aos":"fade-down",style:{backgroundColor:"red",color:"white"},children:Object(p.jsxs)("div",{className:"flex-container",children:[Object(p.jsxs)("div",{className:"text-left w-100 m-1",children:[Object(p.jsx)("h2",{style:{fontSize:"25px"},children:"Items"}),Object(p.jsx)("hr",{}),e.orderItems.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsxs)("p",{children:[e.name," [",e.varient,"] * ",e.quantity," = ",e.price]})})}))]}),Object(p.jsxs)("div",{className:"text-left w-100 m-1",children:[Object(p.jsx)("h2",{style:{fontSize:"25px"},children:"Address"}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{children:["Street : ",e.shippingAddress.street]}),Object(p.jsxs)("p",{children:["City : ",e.shippingAddress.city]}),Object(p.jsxs)("p",{children:["Country : ",e.shippingAddress.country]}),Object(p.jsxs)("p",{children:["Pincode : ",e.shippingAddress.pincode]})]}),Object(p.jsxs)("div",{className:"text-left w-100 m-1",children:[Object(p.jsx)("h2",{style:{fontSize:"25px"},children:"Order Info"}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{children:["Order Amount : ",e.orderAmount]}),Object(p.jsxs)("p",{children:["Date : ",e.createdAt.substring(0,10)]}),Object(p.jsxs)("p",{children:["Transaction Id : ",e.transactionId]}),Object(p.jsxs)("p",{children:["Order Id : ",e._id]})]})]})})}))]})]})}function Z(){var e=Object(c.useState)(""),t=Object(f.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(),s=Object(f.a)(a,2),i=s[0],o=s[1],j=Object(c.useState)(),O=Object(f.a)(j,2),h=O[0],m=O[1],g=Object(c.useState)(),S=Object(f.a)(g,2),E=S[0],y=S[1],_=Object(c.useState)(""),R=Object(f.a)(_,2),w=R[0],N=R[1],z=Object(c.useState)(""),I=Object(f.a)(z,2),C=I[0],A=I[1],T=Object(c.useState)(""),D=Object(f.a)(T,2),L=D[0],P=D[1],k=Object(l.b)(),Z=Object(l.c)((function(e){return e.addPizzaReducer})),G=Z.success,F=Z.error,Q=Z.loading;return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"text-left shadow-lg p-3 mb-5 bg-white rounded",children:[Object(p.jsx)("h1",{children:"Add Pizza"}),Q&&Object(p.jsx)(v,{}),F&&Object(p.jsx)(x,{error:"Something went wrong"}),G&&Object(p.jsx)(U,{success:"New Pizza added successfully"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:r,image:w,description:C,category:L,prices:{small:i,medium:h,large:E}};console.log(t),k(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(r){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ADD_PIZZA_REQUEST"}),t.prev=1,t.next=4,b.a.post("/api/pizzas/addpizza",{pizza:e});case 4:c=t.sent,console.log(c),r({type:"ADD_PIZZA_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:"ADD_PIZZA_FAILED",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"name",value:r,onChange:function(e){n(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"small varient price",value:i,onChange:function(e){o(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"medium varient price",value:h,onChange:function(e){m(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"large varient price",value:E,onChange:function(e){y(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"category",value:L,onChange:function(e){P(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"description",value:C,onChange:function(e){A(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"image url",value:w,onChange:function(e){N(e.target.value)}}),Object(p.jsx)("button",{className:"btn mt-3",type:"submit",children:"Add Pizza"})]})]})})}function G(e){var t=e.match,r=Object(l.b)(),n=Object(c.useState)(""),a=Object(f.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)(),j=Object(f.a)(o,2),O=j[0],h=j[1],g=Object(c.useState)(),S=Object(f.a)(g,2),E=S[0],y=S[1],_=Object(c.useState)(),R=Object(f.a)(_,2),w=R[0],N=R[1],z=Object(c.useState)(""),I=Object(f.a)(z,2),C=I[0],A=I[1],T=Object(c.useState)(""),D=Object(f.a)(T,2),L=D[0],P=D[1],k=Object(c.useState)(""),Z=Object(f.a)(k,2),G=Z[0],F=Z[1],Q=Object(l.c)((function(e){return e.getPizzaByIdReducer})),q=Q.pizza,B=Q.error,M=Q.loading,Y=Object(l.c)((function(e){return e.editPizzaReducer})),H=Y.editloading,J=(Y.editerror,Y.editsuccess);return Object(c.useEffect)((function(){q&&q._id==t.params.pizzaid?(i(q.name),P(q.description),F(q.category),h(q.prices[0].small),y(q.prices[0].medium),N(q.prices[0].large),A(q.image)):r(m(t.params.pizzaid))}),[q,r]),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"text-left shadow-lg p-3 mb-5 bg-white rounded",children:[Object(p.jsx)("h1",{children:"Edit Pizza"}),M&&Object(p.jsx)(v,{}),B&&Object(p.jsx)(x,{error:"Something went wrong"}),J&&Object(p.jsx)(U,{success:"Pizza details edited successfully"}),H&&Object(p.jsx)(v,{}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={_id:t.params.pizzaid,name:s,image:C,description:L,category:G,prices:{small:O,medium:E,large:w}};r(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(r){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"EDIT_PIZZA_REQUEST"}),t.prev=1,t.next=4,b.a.post("/api/pizzas/editpizza",{editedpizza:e});case 4:c=t.sent,console.log(c),r({type:"EDIT_PIZZA_SUCCESS"}),window.location.href="/admin/pizzaslist",t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),r({type:"EDIT_PIZZA_FAILED",payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(c))},children:[Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"name",value:s,onChange:function(e){i(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"small varient price",value:O,onChange:function(e){h(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"medium varient price",value:E,onChange:function(e){y(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"large varient price",value:w,onChange:function(e){N(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"category",value:G,onChange:function(e){F(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"description",value:L,onChange:function(e){P(e.target.value)}}),Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"image url",value:C,onChange:function(e){A(e.target.value)}}),Object(p.jsx)("button",{className:"btn mt-3",type:"submit",children:"Edit Pizza"})]})]})})}function F(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.getAllOrdersReducer})),r=t.loading,n=t.error,a=t.orders;return Object(c.useEffect)((function(){e(function(){var e=Object(u.a)(d.a.mark((function e(t,r){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r().loginUserReducer.currentUser,t({type:"GET_ALLORDERS_REQUEST"}),e.prev=2,e.next=5,b.a.get("/api/orders/getallorders");case 5:c=e.sent,console.log(c),t({type:"GET_ALLORDERS_SUCCESS",payload:c.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:"GET_ALLORDERS_FAILED",payload:e.t0});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}())}),[]),Object(p.jsxs)("div",{children:[r&&Object(p.jsx)(v,{}),n&&Object(p.jsx)(x,{error:"Something went wrong"}),Object(p.jsxs)("table",{className:"table table-striped table-bordered table-responsive-sm",children:[Object(p.jsx)("thead",{className:"thead-dark",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Order Id"}),Object(p.jsx)("th",{children:"Email"}),Object(p.jsx)("th",{children:"User Id"}),Object(p.jsx)("th",{children:"Amount"}),Object(p.jsx)("th",{children:"Date"}),Object(p.jsx)("th",{children:"Status"})]})}),Object(p.jsx)("tbody",{children:a&&a.map((function(t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t._id}),Object(p.jsx)("td",{children:t.email}),Object(p.jsx)("td",{children:t.userid}),Object(p.jsx)("td",{children:t.orderAmount}),Object(p.jsx)("td",{children:t.createdAt.substring(0,10)}),Object(p.jsx)("td",{children:t.isDelivered?Object(p.jsx)("h1",{children:"Delivered"}):Object(p.jsx)("button",{className:"btn",onClick:function(){var r;e((r=t._id,function(){var e=Object(u.a)(d.a.mark((function e(t){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/api/orders/deliverorder",{orderid:r});case 3:return c=e.sent,console.log(c),alert("Order Delivered"),e.next=8,b.a.get("/api/orders/getallorders");case 8:n=e.sent,t({type:"GET_ALLORDERS_SUCCESS",payload:n.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()))},children:"Deliver"})})]})}))})]})]})}function Q(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.getAllPizzasReducer})),r=t.pizzas,n=t.error,a=t.loading;return Object(c.useEffect)((function(){e(h())}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Pizzas List"}),a&&Object(p.jsx)(v,{}),n&&Object(p.jsx)(x,{error:"Something went wrong"}),Object(p.jsxs)("table",{className:"table table-bordered table-responsive-sm",children:[Object(p.jsx)("thead",{className:"thead-dark",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Prices"}),Object(p.jsx)("th",{children:"Category"}),Object(p.jsx)("th",{children:"Actions"})]})}),Object(p.jsx)("tbody",{children:r&&r.map((function(t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t.name}),Object(p.jsxs)("td",{children:["Small : ",t.prices[0].small," ",Object(p.jsx)("br",{}),"Medium : ",t.prices[0].medium," ",Object(p.jsx)("br",{}),"Large : ",t.prices[0].large]}),Object(p.jsx)("td",{children:t.category}),Object(p.jsxs)("td",{children:[Object(p.jsx)("i",{className:"fa fa-trash m-1",onClick:function(){var r;e((r=t._id,function(){var e=Object(u.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/api/pizzas/deletepizza",{pizzaid:r});case 3:c=e.sent,alert("Pizza Deleted Successfully"),console.log(c),window.location.reload(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),alert("Something went wrong"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}}),Object(p.jsx)(s.b,{to:"/admin/editpizza/".concat(t._id),children:Object(p.jsx)("i",{className:"fa fa-edit m-1"})})]})]})}))})]})]})}function q(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.getAllUsersReducer})),r=t.error,n=t.loading,a=t.users;return Object(c.useEffect)((function(){e(function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USERS_REQUEST"}),e.prev=1,e.next=4,b.a.get("/api/users/getallusers");case 4:r=e.sent,console.log(r),t({type:"GET_USERS_SUCCESS",payload:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"GET_USERS_FAILED",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Users list"}),n&&Object(p.jsx)(v,{}),r&&Object(p.jsx)(x,{error:"Something went wrong"}),Object(p.jsxs)("table",{className:"table table-striped table-bordered table-responsive-sm",children:[Object(p.jsx)("thead",{className:"thead-dark",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"User Id"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Email"}),Object(p.jsx)("th",{children:"Delete"})]})}),Object(p.jsx)("tbody",{children:a&&a.map((function(t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t._id}),Object(p.jsx)("td",{children:t.name}),Object(p.jsx)("td",{children:t.email}),Object(p.jsx)("td",{children:Object(p.jsx)("i",{className:"fa fa-trash",onClick:function(){var r;e((r=t._id,function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/api/users/deleteuser",{userid:r});case 3:alert("User deleted successfully"),window.location.reload(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Something went wrong"),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}})})]})}))})]})]})}function B(){var e=Object(l.c)((function(e){return e.loginUserReducer})).currentUser;Object(l.b)();return console.log(e.isAdmin),Object(c.useEffect)((function(){console.log("start"),e.isAdmin||(console.log(e.isAdmin),window.location.href="/"),console.log("frm use effect")}),[]),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"row justify-content-center p-3",children:Object(p.jsxs)("div",{className:"col-md-10",children:[Object(p.jsx)("h2",{style:{fontSize:"35px"},children:"Admin Panel"}),Object(p.jsxs)("ul",{className:"adminfunctions",children:[Object(p.jsx)("li",{children:Object(p.jsx)(s.b,{to:"/admin/userslist",style:{color:"white"},children:"Users List"})}),Object(p.jsx)("li",{children:Object(p.jsx)(s.b,{to:"/admin/pizzaslist",style:{color:"white"},children:"Pizzas List"})}),Object(p.jsx)("li",{children:Object(p.jsx)(s.b,{to:"/admin/addpizza",style:{color:"white"},children:"Add Pizza"})}),Object(p.jsx)("li",{children:Object(p.jsx)(s.b,{to:"/admin/orderslist",style:{color:"white"},children:"Orders List"})})]}),Object(p.jsxs)(i.d,{children:[Object(p.jsx)(i.b,{path:"/admin",component:q,exact:!0}),Object(p.jsx)(i.b,{path:"/admin/userslist",component:q,exact:!0}),Object(p.jsx)(i.b,{path:"/admin/orderslist",component:F,exact:!0}),Object(p.jsx)(i.b,{path:"/admin/pizzaslist",component:Q,exact:!0}),Object(p.jsx)(i.b,{path:"/admin/addpizza",component:Z,exact:!0}),Object(p.jsx)(i.b,{path:"/admin/editpizza/:pizzaid",component:G,exact:!0})]})]})})})}r(86).config();var M=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(O,{}),Object(p.jsxs)(s.a,{children:[Object(p.jsx)(i.b,{path:"/",exact:!0,component:z}),Object(p.jsx)(i.b,{path:"/cart",exact:!0,component:D}),Object(p.jsx)(i.b,{path:"/register",exact:!0,component:L}),Object(p.jsx)(i.b,{path:"/login",exact:!0,component:P}),Object(p.jsx)(i.b,{path:"/orders",exact:!0,component:k}),Object(p.jsx)(i.b,{path:"/admin",component:B})]})]})},Y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,97)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),a(e),s(e)}))},H=r(20),J=r(48),V=r(49),K=r(10),W=Object(H.combineReducers)({getAllPizzasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pizzas:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PIZZAS_REQUEST":return Object(K.a)({loading:!0},e);case"GET_PIZZAS_SUCCESS":return{loading:!1,pizzas:t.payload};case"GET_PIZZAS_FAILED":return{error:t.payload,loading:!1};default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var r=e.cartItems.find((function(e){return e._id===t.payload._id}));return r?Object(K.a)(Object(K.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e._id===t.payload._id?t.payload:e}))}):Object(K.a)(Object(K.a)({},e),{},{cartItems:[].concat(Object(S.a)(e.cartItems),[t.payload])});case"DELETE_FROM_CART":return Object(K.a)(Object(K.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e._id!==t.payload._id}))});default:return e}},registerUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,success:!0};case"USER_REGISTER_FAILED":return{loading:!1,error:t.payload};default:return e}},loginUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,success:!0,currentUser:t.payload};case"USER_LOGIN_FAILED":return{loading:!1,error:t.payload};default:return e}},placeOrderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLACE_ORDER_REQUEST":return{loading:!0};case"PLACE_ORDER_SUCCESS":return{loading:!1,success:!0};case"PLACE_ORDER_FAILED":return{loading:!1,error:t.payload};default:return e}},getUserOrdersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{oredrs:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_ORDERS_REQUEST":return Object(K.a)({loading:!0},e);case"GET_USER_ORDERS_SUCCESS":return{loading:!1,orders:t.payload};case"GET_USER_ORDERS_FAILED":return{error:t.payload,loading:!1};default:return e}},addPizzaReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PIZZA_REQUEST":return Object(K.a)({loading:!0},e);case"ADD_PIZZA_SUCCESS":return{loading:!1,success:!0};case"ADD_PIZZA_FAILED":return{error:t.payload,loading:!1};default:return e}},getPizzaByIdReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PIZZABYID_REQUEST":return Object(K.a)({loading:!0},e);case"GET_PIZZABYID_SUCCESS":return{loading:!1,pizza:t.payload};case"GET_PIZZABYID_FAILED":return{error:t.payload,loading:!1};default:return e}},editPizzaReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_PIZZA_REQUEST":return Object(K.a)({editloading:!0},e);case"EDIT_PIZZA_SUCCESS":return{editloading:!1,editsuccess:!0};case"EDIT_PIZZA_FAILED":return{editerror:t.payload,editloading:!1};default:return e}},getAllOrdersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{oredrs:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALLORDERS_REQUEST":return Object(K.a)({loading:!0},e);case"GET_ALLORDERS_SUCCESS":return{loading:!1,orders:t.payload};case"GET_ALLORDERS_FAILED":return{error:t.payload,loading:!1};default:return e}},getAllUsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS_REQUEST":return Object(K.a)({loading:!0},e);case"GET_USERS_SUCCESS":return{loading:!1,users:t.payload};case"GET_USERS_FAILED":return{error:t.payload,loading:!1};default:return e}}}),X={cartReducer:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},loginUserReducer:{currentUser:localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):null}},$=Object(V.composeWithDevTools)({}),ee=Object(H.createStore)(W,X,$(Object(H.applyMiddleware)(J.a)));a.a.render(Object(p.jsx)(l.a,{store:ee,children:Object(p.jsx)(M,{})}),document.getElementById("root")),Y()}},[[93,1,2]]]);
//# sourceMappingURL=main.4df5c236.chunk.js.map